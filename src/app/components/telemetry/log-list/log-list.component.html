<h1 class="text-center text-3xl mb-3">Logs</h1>
<div class="mb-3 flex justify-center">
  <app-filter [types]="[]" [names]="names" (filterEvent)="applyFilter($event)"></app-filter>
</div>

<div class="w-full grid gap-4 md:grid-cols-5 md:grid-rows-none grid-rows-5 border-b pb-2 mb-4">
  <div class="text-center">Name</div>
  <div class="text-center">Type</div>
  <div class="text-center">Instance</div>
  <div class="text-center">Created At</div>
  <div class="text-center ">Message</div>
</div>
<div app-log-list-entry *ngFor="let entry of logs" [log]="entry"
     class="rounded hover:bg-gray-200 inline-grid md:grid-cols-5 md:grid-rows-none py-4 grid-rows-5 gap-4 w-full border-b border-gray-100">
</div>

<div *ngIf="!logs || logs.length == 0 && !loading" class="w-full text-center text-2xl mb-3">
  <h2>No entries found</h2>
</div>
<div class="flex justify-center h-96" *ngIf="loading">
  <svg class="h-20 w-20 mt-48 text-indigo-600 bg-white" viewBox="0 0 100 100">
    <circle cx="50" cy="50" fill="none" stroke="currentColor" stroke-width="10" r="35"
            stroke-dasharray="164.93361431346415 56.97787143782138">
      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s"
                        values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
    </circle>
  </svg>
</div>

<div class="flex justify-center mt-4 text-indigo-600">
  <div class="grow"></div>
  <button (click)="previousPage()" [disabled]="!hasPreviousPage()" [ngClass]="{'opacity-0' : !hasPreviousPage()}">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/>
    </svg>
  </button>
  <span class="mx-2 text-lg mono" style="">{{(filter.page ?? 0) + 1}}</span>
  <button (click)="nextPage()" [disabled]="!hasNextPage()" [ngClass]="{'opacity-0' : !hasNextPage()}">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"/>
    </svg>
  </button>
  <div class="grow">
    <select type="number"
            name="logCount"
            class="block ml-auto"
            [(ngModel)]="filter.count"
            (change)="applyFilter(null)">
      <option value="25">25</option>
      <option value="50">50</option>
      <option value="100">100</option>
      <option value="1000">1000</option>
    </select>
  </div>
</div>

